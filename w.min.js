W={render:(e,r,t,a,o,i,n,c,f,m,l,u)=>{for(n of(r.shaderSource(a=r.createShader(35633),"#version 300 es\nprecision lowp float;in vec4 c,p,u;uniform mat4 M,m;out vec4 C,P,U;void main(){gl_Position=M*p;P=m*p;C=c;U=u;}"),r.compileShader(a),r.shaderSource(o=r.createShader(35632),"#version 300 es\nprecision lowp float;uniform vec3 c,d,a;in vec4 C,P,U;out vec4 o;uniform sampler2D s;void main(){float n=max(dot(d,-normalize(cross(dFdx(P.xyz),dFdy(P.xyz)))),0.);o=mix(texture(s,U.xy),vec4(c*C.rgb*n+a*C.rgb,1.),C.a);}"),r.compileShader(o),i=r.createProgram(),r.attachShader(i,a),r.attachShader(i,o),r.linkProgram(i),r.useProgram(i),r.clearColor(...e.b.c,1),r.enable(2929),r.uniform3f(r.getUniformLocation(i,"c"),...e.d.c),r.uniform3f(r.getUniformLocation(i,"d"),...e.d.p),r.uniform3f(r.getUniformLocation(i,"a"),...e.a.c),r.clear(16640),e.o))r.blendFunc(770,771),r.activeTexture(33984),[c,f]=(window[n.m]||cube)(),r.enable(3042),r.bindBuffer(34962,r.createBuffer()),r.bufferData(34962,new Float32Array(c),35044),r.vertexAttribPointer(u=r.getAttribLocation(i,"p"),3,5126,0,0,0),r.enableVertexAttribArray(u),r.bindBuffer(34962,r.createBuffer()),r.bufferData(34962,new Float32Array(f),35044),r.vertexAttribPointer(u=r.getAttribLocation(i,"u"),2,5126,0,0,0),r.enableVertexAttribArray(u),m=(new DOMMatrix).translate(...n.p||[0,0,0]).rotate(...n.r||[0,0,0]).scale(...n.s||[1,1,1]),r.uniformMatrix4fv(r.getUniformLocation(i,"m"),0,m.toFloat32Array()),n.c?r.vertexAttrib3f(r.getAttribLocation(i,"c"),...n.c):(r.vertexAttrib4f(r.getAttribLocation(i,"c"),0,0,0,0),n.t&&(l=r.createTexture(),r.pixelStorei(37441,1),r.bindTexture(3553,l),r.pixelStorei(37440,1),r.texImage2D(3553,0,6408,6408,5121,n.t),r.generateMipmap(3553),r.bindTexture(3553,l),r.uniform1i(r.getUniformLocation(i,"s"),0))),r.uniformMatrix4fv(r.getUniformLocation(i,"M"),0,new DOMMatrix([1.8/t,0,0,0,0,1.8,0,0,0,0,-1.001,-1,0,0,-.2,0]).translate(...e.c.p).rotate(...e.c.r).multiply(m).toFloat32Array()),r.drawArrays(4,0,"plane"==n.m?6:c.length/3)}},cube=()=>[[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1,1,1,-1,1,1,1,1,-1,1,1,1,-1,1,-1,1,1,-1,-1,1,1,-1,-1,1,-1,-1,1,1,1,1,-1,-1,1,1,1,1,1,-1,1,1,-1,1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,1,-1,1,-1,-1,-1,1,-1,-1],[1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0]]